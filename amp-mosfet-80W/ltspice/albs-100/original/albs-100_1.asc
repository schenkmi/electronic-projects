Version 4
SHEET 1 1192 1132
WIRE -1872 -864 -1920 -864
WIRE -1808 -864 -1872 -864
WIRE -1664 -864 -1808 -864
WIRE -1584 -864 -1664 -864
WIRE -1440 -864 -1584 -864
WIRE -1360 -864 -1440 -864
WIRE -1120 -864 -1360 -864
WIRE -960 -864 -1120 -864
WIRE -816 -864 -960 -864
WIRE -1120 -848 -1120 -864
WIRE -1920 -816 -1920 -864
WIRE -1808 -816 -1808 -864
WIRE -1584 -816 -1584 -864
WIRE -1440 -816 -1440 -864
WIRE -1360 -816 -1360 -864
WIRE -1120 -752 -1120 -768
WIRE -1920 -704 -1920 -736
WIRE -1808 -704 -1808 -736
WIRE -1264 -704 -1808 -704
WIRE -1184 -704 -1264 -704
WIRE -816 -672 -816 -864
WIRE -1664 -656 -1664 -864
WIRE -1120 -640 -1120 -656
WIRE -1808 -624 -1808 -704
WIRE -1584 -624 -1584 -736
WIRE -1440 -592 -1440 -752
WIRE -1360 -592 -1360 -752
WIRE -1360 -592 -1440 -592
WIRE -1280 -592 -1360 -592
WIRE -1184 -592 -1280 -592
WIRE -1872 -576 -1888 -576
WIRE -1504 -576 -1520 -576
WIRE -1360 -560 -1360 -592
WIRE -816 -528 -816 -672
WIRE -1808 -496 -1808 -528
WIRE -1584 -496 -1584 -528
WIRE -1120 -496 -1120 -544
WIRE -1120 -448 -1120 -496
WIRE -1120 -448 -1200 -448
WIRE -1040 -448 -1120 -448
WIRE -976 -448 -1040 -448
WIRE -864 -448 -976 -448
WIRE -1360 -432 -1360 -480
WIRE -1200 -416 -1200 -448
WIRE -1808 -400 -1808 -416
WIRE -1728 -400 -1808 -400
WIRE -1584 -400 -1584 -416
WIRE -1584 -400 -1728 -400
WIRE -976 -400 -976 -448
WIRE -1728 -384 -1728 -400
WIRE -816 -368 -816 -432
WIRE -2064 -336 -2096 -336
WIRE -1504 -336 -1504 -576
WIRE -1472 -336 -1504 -336
WIRE -1440 -336 -1472 -336
WIRE -1376 -336 -1440 -336
WIRE -1280 -336 -1312 -336
WIRE -1664 -320 -1664 -656
WIRE -1120 -304 -1120 -448
WIRE -976 -288 -976 -336
WIRE -2320 -256 -2400 -256
WIRE -2288 -256 -2320 -256
WIRE -2208 -256 -2224 -256
WIRE -2176 -256 -2208 -256
WIRE -2064 -256 -2064 -336
WIRE -2064 -256 -2096 -256
WIRE -1984 -256 -2064 -256
WIRE -1936 -256 -1984 -256
WIRE -1888 -256 -1888 -576
WIRE -1888 -256 -1936 -256
WIRE -1984 -240 -1984 -256
WIRE -1440 -240 -1440 -336
WIRE -1392 -240 -1440 -240
WIRE -1280 -240 -1280 -336
WIRE -1280 -240 -1312 -240
WIRE -2064 -224 -2064 -256
WIRE -1440 -208 -1440 -240
WIRE -1664 -192 -1664 -240
WIRE -1664 -192 -1808 -192
WIRE -1616 -192 -1664 -192
WIRE -2400 -176 -2400 -256
WIRE -1808 -176 -1808 -192
WIRE -1616 -176 -1616 -192
WIRE -1280 -176 -1280 -240
WIRE -976 -176 -976 -224
WIRE -976 -176 -1280 -176
WIRE -816 -176 -816 -288
WIRE -816 -176 -976 -176
WIRE -752 -176 -816 -176
WIRE -672 -176 -752 -176
WIRE -624 -176 -672 -176
WIRE -576 -176 -624 -176
WIRE -560 -176 -576 -176
WIRE -464 -176 -480 -176
WIRE -384 -176 -464 -176
WIRE -336 -176 -384 -176
WIRE -2320 -160 -2320 -256
WIRE -2288 -160 -2320 -160
WIRE -2208 -160 -2208 -256
WIRE -2208 -160 -2224 -160
WIRE -384 -144 -384 -176
WIRE -976 -128 -976 -176
WIRE -672 -128 -672 -176
WIRE -2064 -112 -2064 -144
WIRE -1984 -112 -1984 -176
WIRE -1440 -112 -1440 -128
WIRE -1360 -112 -1440 -112
WIRE -816 -96 -816 -176
WIRE -2400 -80 -2400 -96
WIRE -1440 -80 -1440 -112
WIRE -1360 -80 -1360 -112
WIRE -576 -80 -576 -176
WIRE -560 -80 -576 -80
WIRE -464 -80 -464 -176
WIRE -464 -80 -480 -80
WIRE -1808 -64 -1808 -96
WIRE -1616 -64 -1616 -96
WIRE -1584 -64 -1616 -64
WIRE -672 -32 -672 -48
WIRE -384 -32 -384 -64
WIRE -1888 -16 -1888 -256
WIRE -1872 -16 -1888 -16
WIRE -1504 -16 -1504 -336
WIRE -1504 -16 -1520 -16
WIRE -976 -16 -976 -64
WIRE -1440 16 -1440 -16
WIRE -1360 16 -1360 -16
WIRE -1360 16 -1440 16
WIRE -1440 48 -1440 16
WIRE -816 64 -816 -16
WIRE -672 64 -672 32
WIRE -1200 80 -1200 -352
WIRE -1120 80 -1120 -224
WIRE -1120 80 -1200 80
WIRE -1056 80 -1120 80
WIRE -976 80 -976 48
WIRE -976 80 -1056 80
WIRE -864 80 -976 80
WIRE -1120 128 -1120 80
WIRE -1120 176 -1120 128
WIRE -1728 208 -1728 -304
WIRE -1488 224 -1520 224
WIRE -1360 224 -1408 224
WIRE -1280 224 -1360 224
WIRE -1184 224 -1280 224
WIRE -1520 256 -1520 224
WIRE -1120 304 -1120 272
WIRE -816 336 -816 160
WIRE -1808 352 -1808 32
WIRE -1280 352 -1808 352
WIRE -1184 352 -1280 352
WIRE -1920 400 -1920 368
WIRE -1808 400 -1808 352
WIRE -1584 400 -1584 32
WIRE -1360 400 -1360 224
WIRE -1264 400 -1360 400
WIRE -1120 416 -1120 400
WIRE -1360 432 -1360 400
WIRE -1264 432 -1264 400
WIRE -1920 528 -1920 480
WIRE -1872 528 -1920 528
WIRE -1808 528 -1808 480
WIRE -1808 528 -1872 528
WIRE -1728 528 -1728 208
WIRE -1728 528 -1808 528
WIRE -1584 528 -1584 480
WIRE -1584 528 -1728 528
WIRE -1360 528 -1360 496
WIRE -1360 528 -1584 528
WIRE -1264 528 -1264 496
WIRE -1264 528 -1360 528
WIRE -1120 528 -1120 496
WIRE -1120 528 -1264 528
WIRE -960 528 -1120 528
WIRE -816 528 -816 336
WIRE -816 528 -960 528
FLAG -1920 -704 0
FLAG -2400 -80 0
FLAG -1984 -112 0
FLAG -1440 48 0
FLAG -1520 256 0
FLAG -1360 -432 0
FLAG -672 64 0
FLAG -384 -32 0
FLAG -1920 368 0
FLAG -2064 -112 0
FLAG -336 -176 out
IOPIN -336 -176 Out
FLAG -2096 -336 in
IOPIN -2096 -336 In
FLAG -624 -176 out0
DATAFLAG -1872 -864 "round(-I(V1)*1k)/1k"
DATAFLAG -1872 528 "round(-I(V2)*1k)/1k"
DATAFLAG -1264 -704 "round($*1k)/1k"
DATAFLAG -1280 -592 "round($*1k)/1k"
DATAFLAG -1280 224 "round($*1k)/1k"
DATAFLAG -1280 352 "round($*1k)/1k"
DATAFLAG -752 -176 "round($*1k)/1k"
DATAFLAG -1936 -256 "round($*1k)/1k"
DATAFLAG -1472 -336 "round($*1k)/1k"
DATAFLAG -1040 -448 "round($*1k)/1k"
DATAFLAG -1056 80 "round($*1k)/1k"
DATAFLAG -960 -864 "round($*1k)/1k"
DATAFLAG -960 528 "round($*1k)/1k"
DATAFLAG -816 -672 "round(Id(M1)*1k)/1k"
DATAFLAG -816 336 "round(Id(M2)*1k)/1k"
DATAFLAG -1120 -496 "round(-Ic(Q7)*1k)/1k"
DATAFLAG -1728 208 "round(I(R7)*10k)/10k"
DATAFLAG -1664 -656 "round(I(R8)*10k)/10k"
DATAFLAG -1120 128 "round(Ic(Q5)*1k)/1k"
SYMBOL voltage -1920 -832 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 45
SYMBOL voltage -1920 384 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 45
SYMBOL voltage -2400 -192 R0
WINDOW 123 24 139 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value2 AC 1
SYMATTR InstName V3
SYMATTR Value SINE(0 0.7 1k)
SYMBOL polcap -2224 -176 R90
WINDOW 3 32 32 VTop 0
WINDOW 0 0 32 VBottom 0
SYMATTR Value 10µ
SYMATTR InstName C1
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=16 Irms=35m Rser=2.8 Lser=0 mfg="Nichicon" pn="UPR1C100MAH" type="Al electrolytic"
SYMBOL cap -2224 -272 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL res -2080 -240 R0
SYMATTR InstName R1
SYMATTR Value 20k
SYMBOL res -2080 -272 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R2
SYMATTR Value 2k
SYMBOL cap -2000 -240 R0
SYMATTR InstName C3
SYMATTR Value 220p
SYMBOL npn -1872 -624 R0
SYMATTR InstName Q1
SYMATTR Value BC546B
SYMBOL npn -1520 -624 M0
WINDOW 3 50 68 Left 0
SYMATTR Value BC546B
SYMATTR InstName Q2
SYMBOL pnp -1872 32 M180
WINDOW 0 67 32 Left 0
WINDOW 3 48 63 Left 0
SYMATTR InstName Q3
SYMATTR Value BC556B
SYMBOL pnp -1520 32 R180
WINDOW 3 83 60 Left 0
SYMATTR Value BC556B
SYMATTR InstName Q4
SYMBOL res -1824 -192 R0
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL res -1632 -192 R0
SYMATTR InstName R4
SYMATTR Value 100
SYMBOL res -1824 -512 R0
SYMATTR InstName R5
SYMATTR Value 100
SYMBOL res -1600 -512 R0
SYMATTR InstName R6
SYMATTR Value 100
SYMBOL res -1744 -400 R0
SYMATTR InstName R7
SYMATTR Value 27k
SYMBOL res -1680 -336 R0
SYMATTR InstName R8
SYMATTR Value 27k
SYMBOL res -1600 -832 R0
SYMATTR InstName R9
SYMATTR Value 6.8k
SYMBOL res -1600 384 R0
SYMATTR InstName R10
SYMATTR Value 6.8k
SYMBOL res -1824 -832 R0
SYMATTR InstName R11
SYMATTR Value 6.8k
SYMBOL res -1824 384 R0
SYMATTR InstName R12
SYMATTR Value 6.8k
SYMBOL res -1296 -256 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R13
SYMATTR Value 22k
SYMBOL cap -1312 -352 R90
WINDOW 0 0 32 VBottom 0
WINDOW 3 32 32 VTop 0
SYMATTR InstName C4
SYMATTR Value 22p
SYMBOL res -1456 -224 R0
SYMATTR InstName R14
SYMATTR Value 620
SYMBOL polcap -1456 -80 R0
WINDOW 3 24 64 Left 0
SYMATTR Value 220µ
SYMATTR InstName C5
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=63 Irms=1.2 Rser=0.08 Lser=0 mfg="Nichicon" pn="UPH1J221MRH" type="Al electrolytic"
SYMBOL cap -1376 -80 R0
SYMATTR InstName C6
SYMATTR Value 100n
SYMBOL zener -992 -64 M180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D1
SYMATTR Value BZX84C12L
SYMBOL zener -992 -224 M180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D2
SYMATTR Value BZX84C12L
SYMBOL diode -992 -16 R0
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode -992 -400 R0
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL nmos -864 -528 R0
SYMATTR InstName M1
SYMATTR Value 2SK1058
SYMBOL pmos -864 160 M180
WINDOW 3 54 71 Left 0
SYMATTR Value 2SJ162
SYMATTR InstName M2
SYMBOL cap -1216 -416 R0
SYMATTR InstName C7
SYMATTR Value 100n
SYMBOL res -1136 -320 R0
SYMATTR InstName R15
SYMATTR Value 33
SYMBOL npn -1184 176 R0
SYMATTR InstName Q5
SYMATTR Value BF469
SYMBOL npn -1184 304 R0
SYMATTR InstName Q6
SYMATTR Value BC546B
SYMBOL res -1136 400 R0
WINDOW 3 33 85 Left 0
SYMATTR Value 150
SYMATTR InstName R16
SYMBOL zener -1280 496 M180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D5
SYMATTR Value BZX84C6V2L
SYMBOL cap -1376 432 R0
SYMATTR InstName C8
SYMATTR Value 100n
SYMBOL res -1504 240 R270
WINDOW 0 32 56 VTop 0
WINDOW 3 0 56 VBottom 0
SYMATTR InstName R17
SYMATTR Value 22k
SYMBOL pnp -1184 -544 M180
SYMATTR InstName Q7
SYMATTR Value BF470
SYMBOL pnp -1184 -656 M180
SYMATTR InstName Q8
SYMATTR Value BC556B
SYMBOL res -1136 -864 R0
SYMATTR InstName R18
SYMATTR Value 150
SYMBOL res -1376 -464 M180
WINDOW 0 36 76 Left 0
WINDOW 3 36 40 Left 0
SYMATTR InstName R19
SYMATTR Value 22k
SYMBOL zener -1376 -752 M180
WINDOW 0 24 72 Left 0
WINDOW 3 24 0 Left 0
SYMATTR InstName D6
SYMATTR Value BZX84C6V2L
SYMBOL cap -1456 -816 R0
SYMATTR InstName C9
SYMATTR Value 100n
SYMBOL res -688 -144 R0
SYMATTR InstName R20
SYMATTR Value 4.7
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL cap -688 -32 R0
SYMATTR InstName C10
SYMATTR Value 100n
SYMBOL res -464 -192 R90
WINDOW 0 0 56 VBottom 0
WINDOW 3 32 56 VTop 0
SYMATTR InstName R21
SYMATTR Value 4.7
SYMBOL res -400 -160 R0
SYMATTR InstName R22
SYMATTR Value 4
SYMBOL ind -464 -96 R90
WINDOW 0 5 56 VBottom 0
WINDOW 3 32 56 VTop 0
WINDOW 39 84 56 VBottom 0
SYMATTR InstName L1
SYMATTR Value 1µ
SYMATTR SpiceLine Rser=0.02
SYMBOL res -832 -384 R0
SYMATTR InstName R23
SYMATTR Value 0.22
SYMATTR SpiceLine tol=1 pwr=0.1
SYMBOL res -832 -112 R0
SYMATTR InstName R24
SYMATTR Value 0.22
SYMATTR SpiceLine tol=1 pwr=0.1
TEXT -2312 -656 Left 0 !.tran 0 10m 0 10u
TEXT -2312 -736 Left 0 !.op
TEXT -2312 -696 Left 0 !.four 1k V(out)
TEXT -2312 -560 Left 0 ;.ac dec 100 10 10meg
TEXT -2312 -784 Left 0 !.inc transistors.txt
TEXT -1096 -360 Left 0 ;Ibias
TEXT -2312 -616 Left 0 !.options plotwinsize=0
CIRCLE Normal -1024 -192 -1168 -336
